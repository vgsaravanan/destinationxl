//tealium universal tag - utag.133 ut4.0.201704262116, Copyright 2017 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}
if(utag.ut.loader===undefined){u.loader=function(o){var b,c,l,a=document;if(o.type==="iframe"){b=a.createElement("iframe");o.attrs=o.attrs||{"height":"1","width":"1","style":"display:none"};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l]);}b.setAttribute("src",o.src);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";for(l in utag.loader.GV(o.attrs)){b[l]=o.attrs[l];}b.src=o.src;}if(o.id){b.id=o.id};if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
u.ev={"view":1};u.map={"order_discount_amount":"discountAmount"};u.extend=[];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){var c,d,e,f;u.data={"qsp_delim":"&","kvp_delim":"=","base_url":"//intljs.rmtag.com/{##utag_trackingKey##}.ct.js","trackingKey":"113649","allowCommission":"true","lineitems":[],"item":{},"product_id":[],"product_name":[],"product_quantity":[],"product_unit_price":[],"product_discount":[]};c=[];for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.data[e[f]]=b[d];}}}
u.data.order_id=u.data.order_id||b._corder||"";u.data.order_subtotal=u.data.order_subtotal||b._csubtotal||"";u.data.order_tax=u.data.order_tax||b._ctax||"";u.data.order_currency=u.data.order_currency||b._ccurrency||"";u.data.order_coupon_code=u.data.order_coupon_code||b._cpromo||"";u.data.customer_id=u.data.customer_id||b._ccustid||"";if(u.data.product_id.length===0&&b._cprod!==undefined){u.data.product_id=b._cprod.slice(0);}
if(u.data.product_name.length===0&&b._cprodname!==undefined){u.data.product_name=b._cprodname.slice(0);}
if(u.data.product_quantity.length===0&&b._cquan!==undefined){u.data.product_quantity=b._cquan.slice(0);}
if(u.data.product_unit_price.length===0&&b._cprice!==undefined){u.data.product_unit_price=b._cprice.slice(0);}
if(u.data.product_discount.length===0&&b._cpdisc!==undefined){u.data.product_discount=b._cpdisc.slice(0);}
u.data.base_url=u.data.base_url.replace("{##utag_trackingKey##}",u.data.trackingKey);if(u.data.order_id){g={};g.orderid=u.data.order_id;g.currency=u.data.order_currency;g.customerStatus=u.data.customerStatus||"";g.conversionType=u.data.conversionType||"Sale";g.customerID=u.data.customer_id;g.discountCode=u.data.order_coupon_code;g.discountAmount=u.data.discountAmount||0;if(u.data.order_tax&&u.data.order_subtotal){g.taxAmount=(u.data.order_subtotal*(u.data.order_tax/100)).toFixed(2);}
g.allowCommission=u.data.allowCommission;if(u.data.product_id.length>0){g.lineitems=[];}
for(var i=0;i<u.data.product_id.length;i++){u.data.item={};u.data.item.quantity=u.data.product_quantity[i];if(u.data.order_tax&&u.data.product_unit_price[i]){u.data.item.unitPrice=(parseFloat(u.data.product_unit_price[i])+(parseFloat(u.data.product_unit_price[i])*(parseFloat(u.data.order_tax)/100))).toFixed(2);}
if(u.data.product_unit_price[i]){u.data.item.unitPriceLessTax=u.data.product_unit_price[i];}
u.data.item.SKU=u.data.product_id[i];u.data.item.productName=u.data.product_name[i];g.lineitems.push(u.data.item);}
window.rm_trans=g;if(!window.DataLayer){window.DataLayer={Sale:{Basket:rm_trans}}}else{DataLayer.Sale=DataLayer.Sale||{Basket:rm_trans};DataLayer.Sale.Basket=DataLayer.Sale.Basket||rm_trans}DataLayer.Sale.Basket.Ready=true;}
u.loader({"type":"script","src":u.data.base_url,"cb":null,"loc":"script","id":'utag_133'});}};utag.o[loader].loader.LOAD(id);}("133","dxl.main"));}catch(error){utag.DB(error);}
